ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = skim_variable))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = 100*complete_rate))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = 100*complete_rate + "%"))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = "100*complete_rate" + "%"))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = "100*complete_rate + %"))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = 100*complete_rate))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = round(100*complete_rate, digits = 3)))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = round(100*complete_rate, digits = 0)))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = round(100*complete_rate, digits = 0), position = position_dodge(0.9)))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = round(100*complete_rate, digits = 0)), position = position_dodge(0.9))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = round(100*complete_rate, digits = 0)), position = position_stack(vjust = 0.5))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = round(100*complete_rate, digits = 0)), position = position_stack(vjust = 0.9))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = round(100*complete_rate, digits = 0)), position = position_stack(vjust = 1))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = round(100*complete_rate, digits = 0)), position = position_stack(vjust = 0.95))
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = round(100*complete_rate, digits = 0)), position = position_stack(vjust = 0.98))
geom_text(aes(label = round(100*complete_rate, digits = 0)), position = position_stack(vjust = 0.987)
geom_text(aes(label = round(100*complete_rate, digits = 0)), position = position_stack(vjust = 0.97)
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = round(100*complete_rate, digits = 0)), position = position_stack(vjust = 0.97))
df_2 <-
mutate(df_2, Trip_Day = as_date(Start_Date_and_Time))
df_2 <-
mutate(df_2, Trip_Time = seconds_to_period(as_datetime(df_2$End_Time)-
as_datetime(df_2$Start_Time))) %>%
mutate(df_2, Trip_Time_seconds = as_datetime(df_2$End_Time)-
as_datetime(df_2$Start_Time)) %>%
select(Ride_ID,Bike_Type,start_station_name,end_station_name,start_station_id,
end_station_id,Rider_Type,Trip_Time, Trip_Time_seconds, Trip_Day)
df_1 <- df %>%
rename(Ride_ID = ride_id) %>%
rename(Bike_Type = rideable_type) %>%
rename(Start_Date_and_Time = started_at) %>%
rename(End_Date_and_Time = ended_at) %>%
rename(Start_Station_Name = start_station_name) %>%
rename(Start_Station_ID = start_station_id) %>%
rename(End_Station_Name = end_station_name) %>%
rename(End_Station_ID = end_station_id) %>%
rename(Rider_Type = member_casual) %>%
rename(Start_Latitude = start_lat) %>%
rename(Start_Longitude = start_lng) %>%
rename(End_Latitude = end_lat) %>%
rename(End_Longitude = end_lng) %>%
mutate(Start_Date = as_date(Start_Date_and_Time)) %>%
mutate(Start_Time = as_date(Start_Date_and_Time)) %>%
mutate(End_Date = as_hms(End_Date_and_Time)) %>%
mutate(End_Time = as_hms(End_Date_and_Time))
library(tidyverse)
library(skimr)
library(janitor)
library(lubridate)
df_1 <- df %>%
rename(Ride_ID = ride_id) %>%
rename(Bike_Type = rideable_type) %>%
rename(Start_Date_and_Time = started_at) %>%
rename(End_Date_and_Time = ended_at) %>%
rename(Start_Station_Name = start_station_name) %>%
rename(Start_Station_ID = start_station_id) %>%
rename(End_Station_Name = end_station_name) %>%
rename(End_Station_ID = end_station_id) %>%
rename(Rider_Type = member_casual) %>%
rename(Start_Latitude = start_lat) %>%
rename(Start_Longitude = start_lng) %>%
rename(End_Latitude = end_lat) %>%
rename(End_Longitude = end_lng) %>%
mutate(Start_Date = as_date(Start_Date_and_Time)) %>%
mutate(Start_Time = as_date(Start_Date_and_Time)) %>%
mutate(End_Date = as_hms(End_Date_and_Time)) %>%
mutate(End_Time = as_hms(End_Date_and_Time))
df_1 <- df %>%
rename(Ride_ID = ride_id) %>%
rename(Bike_Type = rideable_type) %>%
rename(Start_Date_and_Time = started_at) %>%
rename(End_Date_and_Time = ended_at) %>%
rename(Start_Station_Name = start_station_name) %>%
rename(Start_Station_ID = start_station_id) %>%
rename(End_Station_Name = end_station_name) %>%
rename(End_Station_ID = end_station_id) %>%
rename(Rider_Type = member_casual) %>%
rename(Start_Latitude = start_lat) %>%
rename(Start_Longitude = start_lng) %>%
rename(End_Latitude = end_lat) %>%
rename(End_Longitude = end_lng) %>%
mutate(Start_Date = as_date(Start_Date_and_Time)) %>%
mutate(Start_Time = as_date(Start_Date_and_Time)) %>%
mutate(End_Date = hms::as_hms(End_Date_and_Time)) %>%
mutate(End_Time = hms::as_hms(End_Date_and_Time))
parse_datetime("01/02/2010", "%d/%m/%y")
parse_datetime(2022-10-13 18:18:21 UTC)
parse_datetime(2022-10-13 18:18:21 UTC)
parse_datetime(2022-10-13, 18:18:21 UTC)
parse_datetime(2022-10-13 18:18:21)
ymd(2022-10-13, 18:18:21 UTC)
parse_datetime(2022-10-13, 18:18:21 UTC)
parse_datetime(2022-10-13 18:18:21 UTC)
x <- parse_datetime(2022-10-13 18:18:21 UTC)
x <- parse_datetime(2022-10-13 18-18-21 UTC)
x <- parse_datetime(2022-10-13)
parse_datetime(2022-10-13)
df <- read_csv("202203-202302_AppendedData_withCoordinates.csv",
show_col_types = FALSE)
head(df)
x <- parse_date_time(2022-10-13)
x <- parse_date_time(2022-10-13)
x <- parse_date_time(2022-10-13 18:13:30 UTC)
parse_date_time(2022-10-13 18:13:30 UTC)
parse_date_time(2022-10-13 18:13:30)
1813
parse_date_time(2022-10-13 181330)
date(2022-10-13 181330)
date(2022-10-13 18:13:30 UTC)
```{r}
date(2022-10-13 18:13:30)
date(2022-10-13 18:13:30)
parse_date_time(2022-10-13 18:13:30, "ymd")
parse_date_time(2022-10-13 18:13:30, "y m d")
parse_date_time("2022-10-13 18:13:30", "y m d")
parse_date_time("2022-10-13 18:13:30 UTC", "y m d")
parse_date_time("2022-10-13", "y m d")
parse_date_time("2022-10-13 18:13:30 UTC", "y m d")
parse_date_time("2022-10-13 18:13:30 UTC", "ymd")
parse_date_time("2022-10-13 18:13:30 UTC", "ymd hms tz")
parse_date_time("2022-10-13 18:13:30 UTC", "ymd HMS tz")
parse_date_time("2022-10-13 18:13:30 UTC", "ymd HMS")
parse_date_time("2022-10-13 18:13:30 UTC", "ymd HMS")
date("2022-10-13 18:13:30 UTC", "ymd HMS")
date("2022-10-13 18:13:30 UTC")
time("2022-10-13 18:13:30 UTC")
hour("2022-10-13 18:13:30 UTC")
hms::as_hms("2022-10-13 18:13:30 UTC")
as_hms("2022-10-13 18:13:30 UTC")
hms::as_hms("2022-10-13 18:13:30 UTC")
df_1 <- df %>%
rename(Ride_ID = ride_id) %>%
rename(Bike_Type = rideable_type) %>%
rename(Start_Date_and_Time = started_at) %>%
rename(End_Date_and_Time = ended_at) %>%
rename(Start_Station_Name = start_station_name) %>%
rename(Start_Station_ID = start_station_id) %>%
rename(End_Station_Name = end_station_name) %>%
rename(End_Station_ID = end_station_id) %>%
rename(Rider_Type = member_casual) %>%
rename(Start_Latitude = start_lat) %>%
rename(Start_Longitude = start_lng) %>%
rename(End_Latitude = end_lat) %>%
rename(End_Longitude = end_lng) %>%
mutate(Start_Date = date(Start_Date_and_Time)) %>%
mutate(Start_Time = date(Start_Date_and_Time)) #%>%
df_1 <- df %>%
rename(Ride_ID = ride_id) %>%
rename(Bike_Type = rideable_type) %>%
rename(Start_Date_and_Time = started_at) %>%
rename(End_Date_and_Time = ended_at) %>%
rename(Start_Station_Name = start_station_name) %>%
rename(Start_Station_ID = start_station_id) %>%
rename(End_Station_Name = end_station_name) %>%
rename(End_Station_ID = end_station_id) %>%
rename(Rider_Type = member_casual) %>%
rename(Start_Latitude = start_lat) %>%
rename(Start_Longitude = start_lng) %>%
rename(End_Latitude = end_lat) %>%
rename(End_Longitude = end_lng) %>%
mutate(Start_Date = date(Start_Date_and_Time)) #%>%
# There are also missing observations for some of the columns in the head. Using
# a different function allows us to see more information about missing values and
# also unique values for each column.
df_skim <- skim_without_charts(df_1)
df_skim
df_1 <- df %>%
rename(Ride_ID = ride_id) %>%
rename(Bike_Type = rideable_type) %>%
rename(Start_Date_and_Time = started_at) %>%
rename(End_Date_and_Time = ended_at) %>%
rename(Start_Station_Name = start_station_name) %>%
rename(Start_Station_ID = start_station_id) %>%
rename(End_Station_Name = end_station_name) %>%
rename(End_Station_ID = end_station_id) %>%
rename(Rider_Type = member_casual) %>%
rename(Start_Latitude = start_lat) %>%
rename(Start_Longitude = start_lng) %>%
rename(End_Latitude = end_lat) %>%
rename(End_Longitude = end_lng) %>%
mutate(df_1, Start_Date = date(Start_Date_and_Time)) #%>%
# There are also missing observations for some of the columns in the head. Using
# a different function allows us to see more information about missing values and
# also unique values for each column.
df_skim <- skim_without_charts(df_1)
df_skim
df_skim
mutate(df_1, Start_Date = date(Start_Date_and_Time)) #%>%
mutate(df_1, Start_Date = date(Start_Date_and_Time)) #%>%
mutate(df_1, Start_Date = date(Start_Date_and_Time)) #%
difftime(2022-10-14 17:13:30 UTC, 2022-10-06 15:51:21 UTC	, units="days")
difftime(2022-10-14 17:13:30, 2022-10-06 15:51:21, units="days")
difftime("2022-10-14 17:13:30 UTC", "2022-10-06 15:51:21 UTC", units="days")
mutate(df_1, Trip_Time_Hours = difftime(End_Date_and_Time, Start_Date_and_Time, units="hours"))
mutate(df_1, Trip_Time_Hours = difftime(End_Date_and_Time, Start_Date_and_Time, units="minutes"))
df_1 <-
mutate(df_1, Start_Date = date(Start_Date_and_Time)) %>%
mutate(df_1, Trip_Time_Hours = difftime(End_Date_and_Time,
Start_Date_and_Time, units="mins"))
df_1 <- select(df_1, -c(Start_Date_and_Time, End_Date_and_Time))
# There are also missing observations for some of the columns in the head. Using
# a different function allows us to see more information about missing values and
# also unique values for each column.
df_skim <- skim_without_charts(df_1)
df_skim
df_skim %>%
ggplot(mapping = aes(x = 100*complete_rate, y = skim_variable)) +
geom_bar(stat= "identity", fill="azure4") +
labs(
title="Data completeness per column",
subtitle = "Station Names and IDs have missing data!",
x = "Completeness [%]",
y = ""
) +
theme_bw() +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0.5, color = "black",
size = 14, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, color = "black",
size = 10, face = "bold",)
) +
geom_text(aes(label = round(100*complete_rate, digits = 0)),
position = position_stack(vjust = 0.97))
